.profile-page.profile-custom-css{
  /* palette */
  --bg: #050813;
  --panel: rgba(10, 16, 38, .72);   /* brighter than before */
  --panel2: rgba(10, 16, 38, .62);
  --text: #cfe0ff;
  --muted: rgba(207,224,255,.62);

  --blue: #3A86FF;
  --plum: #7C4DFF;
  --blueGlow: rgba(58,134,255,.45);
  --plumGlow: rgba(124,77,255,.35);

  --borderA: rgba(58,134,255,.22);
  --borderB: rgba(124,77,255,.18);

  --r: 3px;

  /* modern-ish font stack without imports */
  --ui: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, Arial, sans-serif;
  --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace;

  position: relative !important;
  min-height: 100vh !important;
  isolation: isolate !important;
  overflow-x: hidden !important;

  background-color: var(--bg) !important;
  color: var(--text) !important;

  /* kill the big background image (inline style override) */
  background-image: none !important;
  background-attachment: fixed !important;
  background-size: auto !important;

  font-family: var(--ui) !important;
  margin-bottom: -14px !important;
}

/* ===== Seamless background overlay (no “start/end” jump) =====
   Use tile sizes (40px) and animate exactly one tile => perfect loop */
@keyframes lattice-bg-pan {
  from { background-position: 0 0, 0 0, 0 0; }
  to   { background-position: 40px 40px, -40px 40px, 0 0; }
}
@keyframes lattice-scan {
  0%   { transform: translateY(-20px); opacity: 0; }
  10%  { opacity: .22; }
  90%  { opacity: .22; }
  100% { transform: translateY(calc(100% + 20px)); opacity: 0; }
}

.profile-page.profile-custom-css::before{
  content:"" !important;
  position: fixed !important;
  inset: 0 !important;
  z-index: 0 !important;
  pointer-events: none !important;

  background-image:
    linear-gradient(rgba(58,134,255,.028) 1px, transparent 1px),
    linear-gradient(90deg, rgba(58,134,255,.028) 1px, transparent 1px),
    radial-gradient(ellipse at 50% 120%, rgba(58,134,255,.12) 0%, transparent 60%);
  background-size:
    40px 40px,
    40px 40px,
    100% 100%;
  background-repeat: repeat, repeat, no-repeat;

  mix-blend-mode: screen !important;
  opacity: .95 !important;

  animation: lattice-bg-pan 14s linear infinite !important;
}

.profile-page.profile-custom-css::after{
  content:"" !important;
  position: fixed !important;
  inset: 0 !important;
  z-index: 0 !important;
  pointer-events: none !important;

  background:
    repeating-linear-gradient(0deg,
      rgba(255,255,255,.018) 0 1px,
      transparent 1px 3px);
  opacity: .45 !important;
  mix-blend-mode: screen !important;
}

/* Ensure page content stays above overlays */
.profile-page.profile-custom-css .container,
.profile-page.profile-custom-css .card,
.profile-page.profile-custom-css .sidebar,
.profile-page.profile-custom-css .lattice-about{
  position: relative !important;
  z-index: 1 !important;
}

/* ===== Cards ===== */
.profile-page.profile-custom-css .card{
  background: linear-gradient(180deg, rgba(14, 22, 52, .74), rgba(10, 16, 38, .64)) !important;
  border: 1px solid var(--borderA) !important;
  border-radius: var(--r) !important;
  overflow: hidden !important;

  /* lighter “glass”, less blur = less dark */
  backdrop-filter: blur(6px) saturate(1.12) !important;
  -webkit-backdrop-filter: blur(6px) saturate(1.12) !important;

  box-shadow: 0 10px 26px rgba(0,0,0,.35) !important;
  transition: transform .2s ease, border-color .2s ease, box-shadow .2s ease !important;
}
.profile-page.profile-custom-css .card:hover{
  transform: translateY(-1px) !important;
  border-color: rgba(124,77,255,.30) !important;
  box-shadow: 0 14px 34px rgba(0,0,0,.42), 0 0 18px rgba(58,134,255,.10) !important;
}

/* ===== Card headers (titles restored + subtle micro animation) ===== */
@keyframes header-underline {
  from { background-position: 0% 0; opacity: .45; }
  to   { background-position: 200% 0; opacity: .55; }
}
.profile-page.profile-custom-css .card-header{
  font-family: var(--ui) !important;
  background: linear-gradient(90deg, rgba(58,134,255,.16), rgba(10,16,38,0), rgba(124,77,255,.14)) !important;
  border-bottom: 1px solid rgba(58,134,255,.18) !important;

  color: #eaf2ff !important;
  text-transform: uppercase !important;
  letter-spacing: 2.6px !important;
  font-weight: 700 !important;
  font-size: 11px !important;

  position: relative !important;
}
.profile-page.profile-custom-css .card-header::after{
  content:"" !important;
  position:absolute !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;
  height: 1px !important;
  background: linear-gradient(90deg,
    transparent,
    rgba(58,134,255,.55),
    rgba(124,77,255,.45),
    transparent) !important;
  background-size: 200% 100% !important;
  animation: header-underline 16s linear infinite !important;
  pointer-events: none !important;
}

/* Card body */
.profile-page.profile-custom-css .card-body{
  background: transparent !important;
  color: var(--text) !important;
  border: none !important;
  position: relative !important;
}
.profile-page.profile-custom-css .card-body::before{
  content:"" !important;
  position:absolute !important;
  left:0 !important;
  top:-20px !important;
  width:100% !important;
  height:2px !important;
  background: rgba(58,134,255,.18) !important;
  pointer-events:none !important;
  animation: lattice-scan 10s linear infinite !important;
}

/* ===== Links/buttons ===== */
.profile-page.profile-custom-css a{
  color: #9fc4ff !important;
  text-decoration: none !important;
  transition: color .2s ease, text-shadow .2s ease !important;
}
.profile-page.profile-custom-css a:hover{
  color: #fff !important;
  text-shadow: 0 0 10px var(--blueGlow), 0 0 14px var(--plumGlow) !important;
}

.profile-page.profile-custom-css .action-btn,
.profile-page.profile-custom-css button,
.profile-page.profile-custom-css [class*="btn"]{
  background: rgba(6,10,26,.18) !important;
  border: 1px solid rgba(58,134,255,.32) !important;
  color: #9fc4ff !important;
  text-transform: uppercase !important;
  letter-spacing: 2px !important;
  font-size: 10px !important;
  font-weight: 700 !important;
  border-radius: 2px !important;
  transition: all .18s ease !important;
  box-shadow: none !important;
}
.profile-page.profile-custom-css .action-btn:hover,
.profile-page.profile-custom-css button:hover,
.profile-page.profile-custom-css [class*="btn"]:hover{
  background: rgba(58,134,255,.10) !important;
  border-color: rgba(124,77,255,.55) !important;
  color: #fff !important;
  box-shadow: 0 0 14px rgba(58,134,255,.12), inset 0 0 12px rgba(124,77,255,.06) !important;
}

/* ===== Profile top bar (breadcrumb) ===== */
.profile-page.profile-custom-css .profile-top-bar{
  background: rgba(10,16,38,.40) !important;
  border: 1px solid rgba(58,134,255,.14) !important;
  border-radius: var(--r) !important;
  backdrop-filter: blur(6px) !important;
  -webkit-backdrop-filter: blur(6px) !important;
}
.profile-page.profile-custom-css .profile-breadcrumb{
  font-family: var(--mono) !important;
  font-size: 10px !important;
  letter-spacing: 1px !important;
  text-transform: uppercase !important;
}
.profile-page.profile-custom-css .profile-breadcrumb strong{
  color: #ffffff !important;
}

/* ===== Sidebar ===== */
.profile-page.profile-custom-css .sidebar{
  background: var(--panel2) !important;
  border: 1px solid rgba(58,134,255,.10) !important;
  border-radius: var(--r) !important;
}

/* ===== Section links (restore styling) ===== */
.profile-page.profile-custom-css .section-links{
  display:flex !important;
  gap: 10px !important;
  flex-wrap: wrap !important;
  padding: 10px 12px !important;
  justify-content: center !important;
}
.profile-page.profile-custom-css .section-links a{
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
  padding: 8px 10px !important;
  border: 1px solid rgba(58,134,255,.22) !important;
  background: rgba(10,16,38,.28) !important;
  border-radius: 2px !important;

  font-family: var(--mono) !important;
  font-size: 10px !important;
  letter-spacing: 1px !important;
  text-transform: uppercase !important;
}
.profile-page.profile-custom-css .section-links a:hover{
  border-color: rgba(124,77,255,.40) !important;
  background: rgba(58,134,255,.10) !important;
}

/* ===== Lattice blurb block ===== */
.profile-page.profile-custom-css .lattice-about{
  max-width: 640px;
  margin: 0 auto;
  padding: 18px 16px;
  font-family: var(--ui) !important;
  position: relative !important;
  overflow: hidden !important;
}

/* Lattice header row */
.profile-page.profile-custom-css .lattice-top{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:10px;
  margin-bottom: 10px;
  text-transform: uppercase;
  letter-spacing: 6px;
}
.profile-page.profile-custom-css .lattice-title{
  font-size: 12px;
  color: #cfe9ff;
  font-family: var(--mono) !important;
}

/* CTA swooch restored */
@keyframes lattice-sheen {
  0%   { transform: translateX(-70%) rotate(10deg); opacity: 0; }
  15%  { opacity: .18; }
  55%  { opacity: .08; }
  100% { transform: translateX(70%) rotate(10deg); opacity: 0; }
}
.profile-page.profile-custom-css .lattice-cta{
  display:flex;
  flex-direction: column;
  gap: 4px;
  align-items:center;
  justify-content:center;
  padding: 10px 12px;
  border-radius: 2px;
  border: 1px solid rgba(58,134,255,.30);
  background: rgba(58,134,255,.08) !important;
  color: #9fc4ff !important;
  text-decoration: none !important;

  text-transform: uppercase !important;
  letter-spacing: 2px !important;
  font-size: 10px !important;
  font-weight: 750 !important;

  position: relative !important;
  overflow: hidden !important;
}
.profile-page.profile-custom-css .lattice-cta::after{
  content:"" !important;
  position:absolute !important;
  inset:-40% -20% !important;
  pointer-events:none !important;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,.10), transparent) !important;
  animation: lattice-sheen 7.5s ease-in-out infinite !important;
}
.profile-page.profile-custom-css .lattice-cta:hover{
  border-color: rgba(124,77,255,.55) !important;
  background: rgba(58,134,255,.12) !important;
  color: #ffffff !important;
  box-shadow: 0 0 14px rgba(58,134,255,.12), inset 0 0 12px rgba(124,77,255,.08) !important;
}
.profile-page.profile-custom-css .lattice-cta .sub{
  font-size: 9px;
  letter-spacing: 1px;
  opacity: .78;
  text-transform:none;
}

/* ===== CSS 3D cube placeholder (no JS) ===== */
@keyframes cube-spin {
  from { transform: rotateX(-18deg) rotateY(0deg); }
  to   { transform: rotateX(-18deg) rotateY(360deg); }
}
.profile-page.profile-custom-css .lattice-cube{
  position:absolute !important;
  right: 14px !important;
  top: 10px !important;
  width: 70px !important;
  height: 70px !important;
  perspective: 520px !important;
  opacity: .82 !important;
  pointer-events:none !important;
  filter: drop-shadow(0 0 12px rgba(58,134,255,.12));
}
.profile-page.profile-custom-css .lattice-cube .cube{
  width: 70px;
  height: 70px;
  transform-style: preserve-3d;
  animation: cube-spin 9s linear infinite;
}
.profile-page.profile-custom-css .lattice-cube .face{
  position:absolute;
  inset: 0;
  border: 1px solid rgba(58,134,255,.28);
  background: rgba(58,134,255,.06);
  box-shadow: inset 0 0 18px rgba(124,77,255,.08);
}
.profile-page.profile-custom-css .lattice-cube .front  { transform: translateZ(35px); }
.profile-page.profile-custom-css .lattice-cube .back   { transform: rotateY(180deg) translateZ(35px); }
.profile-page.profile-custom-css .lattice-cube .right  { transform: rotateY(90deg) translateZ(35px); }
.profile-page.profile-custom-css .lattice-cube .left   { transform: rotateY(-90deg) translateZ(35px); }
.profile-page.profile-custom-css .lattice-cube .top    { transform: rotateX(90deg) translateZ(35px); }
.profile-page.profile-custom-css .lattice-cube .bottom { transform: rotateX(-90deg) translateZ(35px); }

/* ===== Comments FIX ===== */
.profile-page.profile-custom-css #comments .card-body{
  padding: 12px !important;
}

/* Each comment row */
.profile-page.profile-custom-css #comments .profile-comment{
  display:flex !important;
  gap: 12px !important;
  padding: 12px !important;
  margin: 10px 0 !important;

  background: rgba(10,16,38,.42) !important;
  border: 1px solid rgba(58,134,255,.16) !important;
  border-radius: var(--r) !important;
}
.profile-page.profile-custom-css #comments .comment-meta{
  font-family: var(--mono) !important;
  font-size: 10px !important;
  letter-spacing: .6px !important;
  color: rgba(207,224,255,.78) !important;
}
.profile-page.profile-custom-css #comments .comment-author-name{
  color: #ffffff !important;
  font-weight: 750 !important;
}
.profile-page.profile-custom-css #comments .comment-time{
  color: rgba(207,224,255,.58) !important;
}
.profile-page.profile-custom-css #comments .comment-body,
.profile-page.profile-custom-css #comments .comment-body *{
  color: var(--text) !important;
}

/* Reply bubble (inline styled div) */
.profile-page.profile-custom-css #comments .comment-content > div[style*="margin-top"]{
  background: rgba(6,10,26,.35) !important;
  border-left: 2px solid rgba(124,77,255,.45) !important;
  border-radius: 2px !important;
}

/* Comment editor box */
.profile-page.profile-custom-css #comments .add-comment > div > div{
  background: transparent !important;
  border-color: rgba(58,134,255,.18) !important;
}
.profile-page.profile-custom-css #comments .add-comment [contenteditable][role="textbox"]{
  background: rgba(6,10,26,.55) !important;
  color: var(--text) !important;
  border: 1px solid rgba(58,134,255,.22) !important;
  border-radius: 2px !important;
}
.profile-page.profile-custom-css #comments .add-comment [contenteditable][role="textbox"]:focus{
  border-color: rgba(124,77,255,.45) !important;
  box-shadow: 0 0 0 2px rgba(58,134,255,.10) !important;
}
.profile-page.profile-custom-css #comments .add-comment button.action-btn.primary{
  background: rgba(58,134,255,.12) !important;
  border: 1px solid rgba(58,134,255,.32) !important;
}

/* ===== Reduce motion ===== */
@media (prefers-reduced-motion: reduce){
  .profile-page.profile-custom-css::before,
  .profile-page.profile-custom-css .card-body::before,
  .profile-page.profile-custom-css .card-header::after,
  .profile-page.profile-custom-css .lattice-cta::after,
  .profile-page.profile-custom-css .lattice-cube .cube{
    animation: none !important;
  }
}
